"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),UTFSnow=function(){function a(){var b=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=c.content,e=void 0===d?"&#x2744;":d,f=c.limit,g=void 0===f?25:f,h=c.color,i=void 0===h?"black":h,j=c.speedMultiplier,k=void 0===j?1:j,l=c.densityMultiplier,m=void 0===l?1:l,n=c.mouseTilt,o=void 0===n||n,p=c.mouseNudge,q=void 0===p||p,r=c.mousePop,s=void 0===r||r;_classCallCheck(this,a),this.content=e,this.limit=g,this.color=i,this.speedMultiplier=k,this.active=!0,this.mouseTilt=o,this.mouseNudge=q,this.mousePop=s,this.particles=[],this.mouseCoords={x:0,y:0},this.particleContainer=document.createElement("div"),this.applyContainerStyles(this.particleContainer),this.particleContainer.style.zIndex="-10000000000000",document.body.appendChild(this.particleContainer),this.interactionContainer=document.createElement("div"),this.applyContainerStyles(this.interactionContainer),this.interactionContainer.style.zIndex="10000000000000",this.interactionContainer.style.marginTop="-100vh",document.body.appendChild(this.interactionContainer),window.addEventListener("mousemove",function(a){b.mouseCoords.x=a.clientX,b.mouseCoords.y=a.clientY}),this.render(),setInterval(this.addItems.bind(this),1e3*(1/m))}return _createClass(a,[{key:"applyContainerStyles",value:function(a){a.style.height="100vh",a.style.width="100vw",a.style.position="fixed",a.style.top="0",a.style.left="0"}},{key:"applyItemStyles",value:function(a){a.style.position="absolute",a.style.color=this.color,a.style.willChange="margin-top margin-left",a.style.userSelect="none",a.style.cursor="default"}},{key:"render",value:function(){var a=this;requestAnimationFrame(this.render.bind(this)),this.active&&this.particles.forEach(function(b){var c=a.mouseTilt?(a.mouseCoords.x-window.innerWidth/2)/750:0,d=a.mouseNudge?2*b.xNudge*(1/b.size):0,e=a.mouseNudge?1.5*b.yNudge*(1/(b.size/2)):0;b.x+=a.speedMultiplier*(b.size*c+b.direction)+d,b.y+=.1+a.speedMultiplier*(b.size/4+.2*a.speedMultiplier*Math.random()*1.25)+e,a.mouseNudge&&(b.xNudge*=.98,b.yNudge*=.98),b.element.style.marginTop=b.y+"px",b.element.style.marginLeft=b.x+"px",b.interactionElement.style.marginTop="calc(100vh + "+b.y+"px)",b.interactionElement.style.marginLeft=b.x+"px",b.y<=.1*window.innerHeight?b.element.style.opacity=Math.min(1.02*parseFloat(b.element.style.opacity)*Math.max(1,a.speedMultiplier),b.opacity):b.y>=.8*window.innerHeight&&(b.element.style.opacity=.98*parseFloat(b.element.style.opacity),b.y>=window.innerHeight&&a.removeParticle(b))})}},{key:"addItems",value:function(){this.particles.length<this.limit&&this.active&&this.particles.push(this.createItems())}},{key:"createItems",value:function(){var a=this,b=Math.random()+.5,c=Math.random()/1.5+.35,d=document.createElement("div");this.content instanceof HTMLElement?d.appendChild(this.content.cloneNode()):d.innerHTML=this.content,this.applyItemStyles(d),d.style.opacity=.1,d.style.fontSize=150*b+"%",this.particleContainer.appendChild(d);var e=document.createElement("div");e.innerHTML=this.content,e.style.fontSize=150*b+"%",e.style.opacity=0,this.applyItemStyles(e),this.interactionContainer.appendChild(e);var f={element:d,interactionElement:e,speed:Math.random(),size:b,opacity:c,direction:(Math.random()-.5)/2,x:Math.random()*window.innerWidth*.8+.1*window.innerWidth,y:0,xNudge:0,yNudge:0};return this.mouseNudge&&(f.interactionElement.onmouseenter=function(a){var b={x:event.offsetX/f.element.offsetWidth*.8+.1,y:event.offsetY/f.element.offsetHeight},c=(b.x<.5?1:-1)*(.5-Math.abs(b.x-.5))*3.75;f.xNudge+=c<0?Math.max(c,-5):Math.min(c,5),f.yNudge=-1*b.y}),this.mousePop&&(f.interactionElement.onclick=function(){a.removeParticle(f)}),f}},{key:"removeParticle",value:function(a){a.element.remove(),a.interactionElement.onmouseenter=null,a.interactionElement.onclick=null,a.interactionElement.remove(),this.particles.splice(this.particles.indexOf(a),1)}},{key:"pause",value:function(){this.active=!1}},{key:"resume",value:function(){this.active=!0}}]),a}();